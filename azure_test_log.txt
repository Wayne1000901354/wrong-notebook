
[1m[46m RUN [49m[22m [36mv4.0.15 [39m[90mD:/MyApp/wrong-notebook[39m

[90mstdout[2m | src/__tests__/unit/ai/azure-provider.test.ts[2m > [22m[2mAzure OpenAI Provider ?ïš—?é–«??[2m > [22m[2mparseResponse[2m > [22m[2mæ‘¨î…ç ²ç”‡?ï¼†é–«???ï†¯î’”?Â€?ï£??Â€?ï‹«å€Œ?ï„’?æ‘¨?[22m[39mTest Parse Result: {
  "questionText": "ç˜™î¿˜ï‹??f(x) = x^2 ?ï„“?æ’ î±Â€?,
  "answerText": "?Â€æ’ î±Â€æ½›î¾­ 0",
  "analysis": "?î©”î¦€éŠÂ€?ï•œ?ç”ˆâˆªï‹???ï•î¯?î•ª?,?î¿œ??å…¸?æšº??îºŸè¿¨?Â€æ’ î±Â€æ½›î¾­ 0",
  "subject": "?è©¨é£›",
  "knowledgePoints": [
    "éˆ­ï—»æ´»?è³£î²",
    "?è³£î²?Â€??
  ],
  "requiresImage": true
}

 [31m??[39m src/__tests__/unit/ai/azure-provider.test.ts [2m([22m[2m30 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 11[2mms[22m[39m
       [32m??[39m è»ç®? API Key ?å—…?éœ‚äº¤???AI_AUTH_ERROR[32m 1[2mms[22m[39m
       [32m??[39m API Key éŠç®‡å¾æ‘®î¤›æ³µéŠè„«î£ªæ‘¨î…ç ²?î®ïŠ¾ AI_AUTH_ERROR[32m 0[2mms[22m[39m
       [32m??[39m è»ç®? endpoint ?å—…?éœ‚äº¤???AI_AUTH_ERROR[32m 0[2mms[22m[39m
       [32m??[39m endpoint éŠç®‡å¾æ‘®î¤›æ³µéŠè„«î£ªæ‘¨î…ç ²?î®ïŠ¾ AI_AUTH_ERROR[32m 0[2mms[22m[39m
       [32m??[39m è»ç®? deploymentName ?å—…?éœ‚äº¤???AI_AUTH_ERROR[32m 0[2mms[22m[39m
       [32m??[39m deploymentName éŠç®‡å¾æ‘®î¤›æ³µéŠè„«î£ªæ‘¨î…ç ²?î®ïŠ¾ AI_AUTH_ERROR[32m 0[2mms[22m[39m
       [32m??[39m ?ï¤??ïš™è”­?å—…?éœ‚äº¤??î¸?æ’±ç®?é˜?[32m 0[2mms[22m[39m
       [32m??[39m æ‘¨î…ç ²é›¿è¼»îœ…æšºî¦¹æ• API ?ï‡î¯±[32m 0[2mms[22m[39m
       [32m??[39m æ‘¨î…ç ²?èˆ€??èŠ¸?éŠ‹?API ?ï‡î¯±[32m 0[2mms[22m[39m
       [32m??[39m æ‘¨î…ç ²?èˆ€??èŠ¸?éŠ‹?model ?æ›„å…§?ïš™å¦[32m 0[2mms[22m[39m
       [32m??[39m analyzeImage ?å¯?æ‘¨î…ç ²æ‘®î¦¶î¯­æ’Ÿå—¡??è‡¬ï‹??[32m 0[2mms[22m[39m
       [32m??[39m generateSimilarQuestion ?å¯?æ‘¨î…ç ²æ‘®î¦¶î¯­æ’Ÿå—¡??è‡¬ï‹??[32m 0[2mms[22m[39m
       [32m??[39m reanswerQuestion ?å¯?æ‘¨î…ç ²æ‘®î¦¶î¯­æ’Ÿå—¡??è‡¬ï‹??[32m 0[2mms[22m[39m
[31m       [31m?[31m æ‘¨î…ç ²ç”‡?ï¼†é–«???ï†¯î’”?Â€?ï£??Â€?ï‹«å€Œ?ï„’?æ‘¨?[39m[32m 5[2mms[22m[39m
       [32m??[39m æ‘¨î…ç ²ç”‡?ï¼†æ†­ï„”? requiresImage éŠ?false[32m 0[2mms[22m[39m
       [32m??[39m æ‘¨î…ç ²ç”‡?ï¼†æ†­ï„”??îºŸ?æ‘®è¡£?é¤ˆî‚?æšºî¦¹æ•???å—¡?"[32m 0[2mms[22m[39m
       [32m??[39m æ‘¨î…ç ²ç”‡?ï¼†?ï‰Œï°?äº¥????î¤™îƒ?ï‰?)[32m 0[2mms[22m[39m
       [32m??[39m æ‘¨î…ç ²ç”‡?ï¼†?ï‰Œï°?äº¥???éŠå‰œ??î¤™îƒ?ï‰?)[32m 0[2mms[22m[39m
       [32m??[39m è»ç®?æ•¹ï†³??ï‹«å€Œ?å—…?éœ‚äº¤??ç²¹?éœ‚?[32m 0[2mms[22m[39m
       [32m??[39m æ‘¨î…ç ²ç”‡?ï¼†?î“??ï‹«å€Œ?ï†¯æ†[32m 0[2mms[22m[39m
       [32m??[39m æ‘¨î…ç ²?é§î¨’æ“î¡¼åè›ç®¸î¹µ[32m 0[2mms[22m[39m
       [32m??[39m ?ï‹«å€ŒéŠïš—??å†½î£ªæ‘¨î…ç ²é¤ˆî‚? null[32m 0[2mms[22m[39m
       [32m??[39m æ‘¨î…ç ²æ†­ï„”?æ†­î«³??ï†¯æ†[32m 0[2mms[22m[39m
       [32m??[39m æ‘¨î…ç ²æ’ ï‰?èî°®?éœ‚èˆªè“®?ï¼¶è›¹ AI_CONNECTION_FAILED[32m 0[2mms[22m[39m
       [32m??[39m æ‘¨î…ç ²æ’ ï‰??ä»¿?éœ‚èˆªè“®?ï¼¶è›¹ AI_CONNECTION_FAILED[32m 0[2mms[22m[39m
       [32m??[39m æ‘¨î…ç ²æ’ ï‰æ•éœ‚î¼¿?éœ‚èˆªè“®?ï¼¶è›¹ AI_AUTH_ERROR[32m 0[2mms[22m[39m
       [32m??[39m æ‘¨î…ç ²æ’ ?401 ?î©–ç§¤é §ç¥†ï™”éŠ?AI_AUTH_ERROR[32m 0[2mms[22m[39m
       [32m??[39m æ‘¨î…ç ²æ’ ?JSON é–«???î©–ç§¤é §ç¥†ï™”éŠ?AI_RESPONSE_ERROR[32m 0[2mms[22m[39m
       [32m??[39m ?èŠ°î·?î©–ç§¤æ‘¨î…ç ²é §ç¥†ï™”éŠ?AI_UNKNOWN_ERROR[32m 0[2mms[22m[39m
       [32m??[39m ??Error æ’–å¯¡æƒ…æ‘¨î…ç ²é §ç¥†ï™”éŠ?AI_UNKNOWN_ERROR[32m 0[2mms[22m[39m

?èƒ¼î?èƒ¼î?èƒ¼î??[39m Failed Tests 1 ?èƒ¼î?èƒ¼î?èƒ¼î??[39m

 FAIL  src/__tests__/unit/ai/azure-provider.test.ts > Azure OpenAI Provider ?ïš—?é–«?? > parseResponse > æ‘¨î…ç ²ç”‡?ï¼†é–«???ï†¯î’”?Â€?ï£??Â€?ï‹«å€Œ?ï„’?æ‘¨?AssertionError: expected [ 'éˆ­ï—»æ´»?è³£î²', '?è³£î²?Â€?? ] to include 'éˆ­ï—»æ´»?è³£îª'
 ??[22m src/__tests__/unit/ai/azure-provider.test.ts:236:44
    234|             expect(result.analysis).toContain('éˆ­ï—»æ´»?è³£î²');
    235|             expect(result.subject).toBe('?è©¨é£›');
    236|             expect(result.knowledgePoints).toContain('éˆ­ï—»æ´»?è³£îª');
       |                                            ^
    237|             expect(result.knowledgePoints).toContain('?è³£îª?Â€??);
    238|             expect(result.requiresImage).toBe(true);

?èƒ¼î?èƒ¼î?èƒ¼î?èƒ¼î?èƒ¼î?èƒ¼î?èƒ¼î?èƒ¼î?èƒ¼î?èƒ¼î?èƒ¼î?èƒ¼î[1/1]??[22m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m29 passed[39m[22m[90m (30)[39m
[2m   Start at [22m 11:33:34
[2m   Duration [22m 1.32s[2m (transform 116ms, setup 34ms, import 157ms, tests 11ms, environment 926ms)[22m

